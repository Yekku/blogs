(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,n){e.exports=n(358)},355:function(e,t,n){},358:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(59),l=n.n(c),o=n(17),i=n(18),s=n(21),u=n(19),m=n(22),p=n(20),h=n(374),d=n(378),f=n(367),b=n(8),g=n.n(b),v=n(16),E=function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"LOGIN",data:e});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data;case"LOGOUT":return null;default:return e}},O=function(e,t){return function(){var n=Object(v.a)(g.a.mark(function n(a){return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"SET_NOTIFICATION",content:e}),setTimeout(function(){a({type:"HIDE_NOTIFICATION"})},1e3*t);case 2:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.content;case"HIDE_NOTIFICATION":return null;default:return e}},j=n(366),k=n(373),C=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var a=t.name;return n.setState({activeItem:a})},n.logoutHandler=function(){window.localStorage.removeItem("loggedBlogAppUser"),n.props.logout(),n.props.notify("You just logged out!",3)},n.state={activeItem:"home"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(k.a,{pointing:!0,secondary:!0},r.a.createElement(k.a.Item,{as:j.a,to:"/"},r.a.createElement("h2",null,"Blog app")),r.a.createElement(k.a.Item,{as:j.a,to:"/",name:"Home",active:"Home"===e,onClick:this.handleItemClick}),r.a.createElement(k.a.Item,{as:j.a,to:"/blogs",name:"Blogs",active:"Blogs"===e,onClick:this.handleItemClick}),r.a.createElement(k.a.Item,{as:j.a,to:"/users",name:"Users",active:"Users"===e,onClick:this.handleItemClick}),r.a.createElement(k.a.Menu,{position:"right"},r.a.createElement(k.a.Item,null,r.a.createElement("em",null,"Logged in as ",this.props.user.name)),r.a.createElement(k.a.Item,{as:j.a,to:"/",name:"Logout",active:"Logout"===e,onClick:this.logoutHandler}))))}}]),t}(a.Component),x=Object(p.b)(function(e){return{users:e.users,user:e.login}},{notify:O,logout:function(){return function(){var e=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT"});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(C),I=n(375),B=function(){return r.a.createElement(I.a,{reversed:"mobile vertically"},r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Column,{width:16},r.a.createElement("div",null,r.a.createElement("h2",null,"Blog app"))),r.a.createElement(I.a.Column,{width:16},r.a.createElement("div",{style:{margin:20}},r.a.createElement("h3",null,"Definition of blog"),r.a.createElement("p",null,"A blog (shortening of \u201cweblog\u201d) is an online journal or informational website displaying information in the reverse chronological order, with latest posts appearing first. It is a platform where a writer or even a group of writers share their views on an individual subject."),r.a.createElement("h3",null,"Blog structure"),r.a.createElement("p",null,"The appearance of blogs changed over time, and nowadays blogs include different items. But, most blogs include some standard features and structure. Here are common features that a typical blog will include: Header with the menu or navigation bar Main content area with highlighted or latest blog posts Sidebar with social profiles, favorite content, or call-to-action Footer with relevant links like a disclaimer, privacy policy, contact page, etc.")))))},S=n(371),T=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.notification;return""===e||null===e?null:r.a.createElement(S.a,null,e)}}]),t}(r.a.Component),U=Object(p.b)(function(e){return{notification:e.notification}})(T),F=n(35),A=n(108),_=n(50),N=n(33),R=n.n(N),H=null,D={getAll:function(){return R.a.get("/api/blogs").then(function(e){return e.data})},create:function(){var e=Object(v.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:H}},e.next=3,R.a.post("/api/blogs",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put("".concat("/api/blogs","/").concat(t._id),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(v.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:H}},e.next=3,R.a.delete("".concat("/api/blogs","/").concat(t._id),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){H="bearer ".concat(e)}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_BLOGS":return t.data;case"CREATE":return Object(_.a)(e).concat([t.data]);case"REMOVE":var n=e.filter(function(e){return e._id!==t.data._id});return Object(_.a)(n);case"UPDATE":var a=e.filter(function(e){return e._id!==t.data._id});return Object(_.a)(a).concat([t.data]);default:return e}},z={getAll:function(){var e=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getById:function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat("/api/users","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.getById(e);case 2:a=t.sent,n({type:"REFRESH_USER",data:a});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("INIT_USERS"===t.type)return t.data;if("CREATE_USER"===t.type)return console.log(t.content),e.concat(t.data);if("REFRESH_USER"===t.type){var n=e.filter(function(e){return e._id!==t.data._id});return Object(_.a)(n).concat([t.data])}return e},M=n(103),V=n(377),J=n(376),W=n(372),Y=n(369),q=n(368),K=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).fieldChangeHandler=function(t){e.setState(Object(F.a)({},t.target.name,t.target.value))},e.idByUsername=function(t){return e.props.users.find(function(e){return e.username===t})._id},e.likeBlog=function(t){return Object(v.a)(g.a.mark(function n(){return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.props.likeBlog(t);case 3:e.props.notify("liked blog '".concat(t.title,"'"),5),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e.props.notify("liking blog failed",5);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))},e.removeBlog=function(t){return Object(v.a)(g.a.mark(function n(){return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!window.confirm("A you sure delete '".concat(t.title,"' ?"))){n.next=8;break}return e.props.history.push("/blogs"),n.next=5,e.props.removeBlog(t);case 5:return n.next=7,e.props.refreshUser(e.idByUsername(e.props.user.username));case 7:e.props.notify("A blog '".concat(t.title,"' deleted"),5);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),e.props.notify("deleting a blog failed",5);case 13:case"end":return n.stop()}},n,this,[[0,10]])}))},e.addComment=function(t){return function(){var n=Object(v.a)(g.a.mark(function n(a){return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,e.props.commentBlog(t,e.state.comment);case 4:e.setState({comment:""}),e.props.notify("Comment '".concat(e.state.comment,"' added to blog '").concat(t.title,"'"),5),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e.props.notify("posting a comment failed",5);case 11:case"end":return n.stop()}},n,this,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()},e.state={comment:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.blog?r.a.createElement("div",{className:"name"},r.a.createElement("div",null,r.a.createElement(M.a,{name:"reply",size:"small"}),r.a.createElement(j.a,{to:"/blogs"},"Back to bloglist")),r.a.createElement(V.a,{as:"h2",attached:"top"},this.props.blog.title),r.a.createElement(J.a,{attached:!0},r.a.createElement("p",null,"By ",this.props.blog.author),r.a.createElement("p",null,"For more information see this ",r.a.createElement("a",{href:this.props.blog.url,target:"blanck"},"link")),r.a.createElement(W.a,{content:"Like",icon:"heart",onClick:this.likeBlog(this.props.blog),label:{basic:!0,pointing:"right",content:"".concat(this.props.blog.likes)},labelPosition:"left",size:"mini"}),r.a.createElement("p",{style:{marginTop:10}},"Added by ",this.props.blog.user.name),(!this.props.blog.user||this.props.user.username===this.props.blog.user.username)&&r.a.createElement(W.a,{size:"mini",type:"button",onClick:this.removeBlog(this.props.blog)},"delete"),r.a.createElement("div",null,r.a.createElement("h2",null,"comments"),r.a.createElement(Y.a,null,this.props.blog.comments.map(function(e){return r.a.createElement(Y.a.Item,{key:e},r.a.createElement(Y.a.Icon,{name:"comments outline"}),r.a.createElement(Y.a.Content,null,r.a.createElement(Y.a.Description,null,e)))})),r.a.createElement(q.a,{onSubmit:this.addComment(this.props.blog)},r.a.createElement(q.a.Field,null,r.a.createElement("label",{htmlFor:"comment"},"comment"),r.a.createElement("textarea",{name:"comment",value:this.state.comment,onChange:this.fieldChangeHandler,style:{width:300}})),r.a.createElement(W.a,{type:"submit"},"Add comment"))))):r.a.createElement("div",null,r.a.createElement(M.a,{name:"reply",size:"small"}),r.a.createElement(j.a,{to:"/blogs"},"Back to bloglist"))}}]),t}(r.a.Component),Q={notify:O,removeBlog:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.remove(e);case 2:n({type:"REMOVE",data:e});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},likeBlog:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a,r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(A.a)({},e)).likes+=1,t.next=4,D.update(a);case 4:r=t.sent,n({type:"UPDATE",data:r});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},commentBlog:function(e,t){return function(){var n=Object(v.a)(g.a.mark(function n(a){var r,c;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=Object(A.a)({},e)).comments=Object(_.a)(r.comments).concat([t]),n.next=4,D.update(r);case 4:c=n.sent,a({type:"UPDATE",data:c});case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},refreshUser:G},X=Object(p.b)(function(e,t){return{users:e.users,user:e.login,blog:e.blogs.find(function(e){return e._id===t.id})}},Q)(K),Z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(F.a)({},e.target.name,e.target.value))},n.idByUsername=function(e){return n.props.users.find(function(t){return t.username===e})._id},n.addBlog=function(){var e=Object(v.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:n.state.title,author:n.state.author,url:n.state.url},e.prev=2,n.setState({title:"",author:"",url:""}),e.next=6,n.props.createBlog(a);case 6:return e.next=8,n.props.refreshUser(n.idByUsername(n.props.user.username));case 8:n.props.notify("A new blog ".concat(a.title," created"),5),n.props.hideBlogForm(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.props.notify("Unable to save the blog",5);case 15:case"end":return e.stop()}},e,this,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),n.state={title:"",author:"",url:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Create new blog"),r.a.createElement(q.a,{onSubmit:this.addBlog},r.a.createElement(q.a.Field,{style:{width:500}},r.a.createElement("label",{htmlFor:"title"},"New blog title "),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(q.a.Field,{style:{width:500}},r.a.createElement("label",{htmlFor:"author"},"New blog author "),r.a.createElement("input",{type:"text",name:"author",value:this.state.author,onChange:this.handleChange})),r.a.createElement(q.a.Field,{style:{width:500}},r.a.createElement("label",{htmlFor:"url"},"New blog url "),r.a.createElement("input",{type:"text",name:"url",value:this.state.url,onChange:this.handleChange})),r.a.createElement(W.a,{size:"mini",content:"create",onClick:this.hideBlogForm})))}}]),t}(r.a.Component),$=Object(p.b)(function(e){return{users:e.users,user:e.login}},{createBlog:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.create(e);case 2:a=t.sent,n({type:"CREATE",data:a});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},notify:O,refreshUser:G})(Z),ee=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Blogs"),r.a.createElement(Y.a,null,this.props.blogs.map(function(e){return r.a.createElement(Y.a.Item,{key:e._id},r.a.createElement(Y.a.Icon,{name:"book",size:"large",verticalAlign:"middle"}),r.a.createElement(Y.a.Content,null,r.a.createElement(Y.a.Header,{as:j.a,to:"/blogs/".concat(e._id)},e.title),r.a.createElement(Y.a.Description,null,"By ",e.author)))})))}}]),t}(r.a.Component),te=Object(p.b)(function(e){return{blogs:e.blogs.sort(function(e,t){return t.likes-e.likes})}},null)(ee),ne=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(F.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){try{t.preventDefault(),e.props.create({username:e.state.username,name:e.state.name,password:e.state.password}),e.props.notify("A new user ".concat(e.state.name," created"),5),e.props.history.push("/"),e.setState({username:"",name:"",password:""})}catch(n){e.props.notify("Username must be atleast 3 characters and unique",8)}},e.state={username:"",name:"",password:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("h2",null,"Create a new user"),r.a.createElement(q.a,{onSubmit:this.handleSubmit},r.a.createElement(q.a.Field,{style:{width:300}},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(q.a.Field,{style:{width:300}},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{name:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement(q.a.Field,{style:{width:300}},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(W.a.Group,null,r.a.createElement(W.a,{positive:!0,type:"submit"},"Create"),r.a.createElement(W.a.Or,null),r.a.createElement(W.a,{as:j.a,to:"/"},"Cancel"))))}}]),t}(r.a.Component),ae=Object(p.b)(null,{create:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.create(e);case 2:a=t.sent,n({type:"CREATE_USER",data:a});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},notify:O})(ne),re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement("h2",null,e.name),r.a.createElement("h3",null,"Added blogs"),r.a.createElement(Y.a,null,e.blogs.map(function(e){return r.a.createElement(Y.a.Item,{key:e._id},r.a.createElement(Y.a.Icon,{name:"book"}),r.a.createElement(Y.a.Content,null,e.title))})))}}]),t}(r.a.Component),ce=Object(p.b)(function(e,t){return{user:e.users.find(function(e){return e._id===t.id})}},null)(re),le=n(370),oe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.users.map(function(e){return r.a.createElement(le.a.Row,{key:e._id},r.a.createElement(le.a.Cell,null,r.a.createElement(j.a,{to:"/users/".concat(e._id)},e.name)),r.a.createElement(le.a.Cell,null,e.blogs.length))});return r.a.createElement("div",{className:"users"},r.a.createElement("h2",null,"Users"),r.a.createElement(le.a,{collapsing:!0},r.a.createElement(le.a.Header,null,r.a.createElement(le.a.Row,null,r.a.createElement(le.a.HeaderCell,null,r.a.createElement("h3",null,"User name")),r.a.createElement(le.a.HeaderCell,null,r.a.createElement("h3",null,"Blogs")))),r.a.createElement(le.a.Body,null,e)))}}]),t}(r.a.Component),ie=Object(p.b)(function(e){return{users:e.users}},null)(oe),se={login:function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},ue=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(F.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(v.a)(g.a.mark(function t(n){var a,r,c,l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.state,r=a.username,c=a.password,t.prev=2,t.next=5,se.login({username:r,password:c});case 5:return l=t.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(l)),D.setToken(l.token),e.props.notify("Welcome back ".concat(l.name," !"),5),e.setState({username:"",password:""}),t.next=12,e.props.login(l);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),e.props.notify("Wrong username or password",5);case 17:case"end":return t.stop()}},t,this,[[2,14]])}));return function(e){return t.apply(this,arguments)}}(),e.state={username:"",password:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{style:{marginTop:20}},"Login to application"),r.a.createElement(q.a,{onSubmit:this.handleSubmit},r.a.createElement(q.a.Field,{style:{width:300}},r.a.createElement("label",null,"Userame"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Username"})),r.a.createElement(q.a.Field,{style:{width:300}},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),r.a.createElement(W.a.Group,null,r.a.createElement(W.a,{positive:!0,type:"submit"},"Login"),r.a.createElement(W.a.Or,null),r.a.createElement(W.a,{as:j.a,to:"/create-new-user"},"Create new user"))))}}]),t}(r.a.Component),me=Object(p.b)(null,{login:E,notify:O})(ue),pe=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleVisibility=function(){n.setState({visible:!n.state.visible})},n.state={visible:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={display:this.state.visible?"none":""},t={display:this.state.visible?"":"none"};return r.a.createElement("div",null,r.a.createElement("div",{style:e},r.a.createElement(W.a,{size:"mini",onClick:this.toggleVisibility,style:{margin:"20px 0"}},this.props.buttonLabel)),r.a.createElement("div",{style:t,className:"togglableContent"},this.props.children,r.a.createElement(W.a,{size:"mini",onClick:this.toggleVisibility,style:{margin:"20px 0"}},"cancel")))}}]),t}(r.a.Component),he=function(){return r.a.createElement("div",{style:{marginTop:50}},"Blog app for ",r.a.createElement("a",{href:"https://courses.helsinki.fi/fi/TKT21009/121540749"},"Full Stack -sovelluskehitys"),". See GitHub ",r.a.createElement("a",{href:"https://github.com/Yekku/full-stack_osa-7"},"link")," for the source code.")},de=(n(355),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).hideBlogForm=function(){n.blogForm.toggleVisibility()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initBlogs(),this.props.initUsers();var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var t=JSON.parse(e);this.props.login(t),D.setToken(t.token)}}},{key:"render",value:function(){var e=this;return null===this.props.user?r.a.createElement(f.a,null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement(me,null),r.a.createElement(d.a,{exact:!0,path:"/create-new-user",render:function(e){var t=e.history;return r.a.createElement(ae,{history:t})}})))):r.a.createElement(f.a,null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(U,null)),r.a.createElement("div",null,r.a.createElement(x,null)),r.a.createElement("div",null,r.a.createElement(pe,{buttonLabel:"New Blog",ref:function(t){e.blogForm=t}},r.a.createElement($,{hideBlogForm:this.hideBlogForm}))),r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(B,null)}}),r.a.createElement(d.a,{exact:!0,path:"/blogs",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(d.a,{exact:!0,path:"/blogs/:id",render:function(e){var t=e.match,n=e.history;return r.a.createElement(X,{id:t.params.id,history:n})}}),r.a.createElement(d.a,{exact:!0,path:"/users",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(d.a,{exact:!0,path:"/users/:id",render:function(e){var t=e.match;return r.a.createElement(ce,{id:t.params.id})}})),r.a.createElement("div",null,r.a.createElement(he,null)))))}}]),t}(r.a.Component)),fe=Object(p.b)(function(e){return{users:e.users,user:e.login}},{notify:O,initBlogs:function(){return function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAll();case 2:n=e.sent,t({type:"INIT_BLOGS",data:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},initUsers:function(){return function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getAll();case 2:n=e.sent,t({type:"INIT_USERS",data:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},login:E})(de),be=n(47),ge=n(183),ve=n(184),Ee=Object(be.combineReducers)({login:y,users:P,blogs:L,notification:w}),ye=Object(be.createStore)(Ee,Object(ve.composeWithDevTools)(Object(be.applyMiddleware)(ge.a))),Oe=function(){l.a.render(r.a.createElement(p.a,{store:ye},r.a.createElement(fe,null)),document.getElementById("root"))};Oe(),ye.subscribe(Oe)}},[[195,2,1]]]);
//# sourceMappingURL=main.972a4eb3.chunk.js.map